(this["webpackJsonpfood-order-app"]=this["webpackJsonpfood-order-app"]||[]).push([[0],{19:function(t,e,i){"use strict";i.r(e);var c=i(1),r=i.n(c),s=i(4),n=i.n(s),a=(i(9),i(2)),l=i(3),o=Object(l.b)({name:"ui",initialState:{cartIsVisible:!1},reducers:{toggleCart:function(t){t.cartIsVisible=!t.cartIsVisible}}}),d=o.reducer,j=o.actions,m=i(8),b=JSON.parse(sessionStorage.getItem("FoodyStoreCart"))||{items:[],totalQuantity:0},x=Object(l.b)({name:"cart",initialState:b,reducers:{addItemToCart:function(t,e){var i=e.payload,c=t.items.find((function(t){return t.id===i.id}));c?(c.quantity++,c.totalPrice+=i.price):t.items.push(Object(m.a)(Object(m.a)({},i),{},{quantity:1,totalPrice:i.price})),t.totalQuantity++,sessionStorage.setItem("FoodyStoreCart",JSON.stringify(t))},removeItemFromCart:function(t,e){var i=e.payload,c=t.items.find((function(t){return t.id===i}));1===c.quantity?t.items=t.items.filter((function(t){return t.id!==i})):(c.quantity--,c.totalPrice-=c.price),t.totalQuantity--,sessionStorage.setItem("FoodyStoreCart",JSON.stringify(t))}}}),u=x.reducer,p=x.actions,h=i(0),f=function(t){var e=Object(a.b)(),i=t.item,c=i.id,r=i.title,s=i.quantity,n=i.price,l=i.totalPrice;return Object(h.jsxs)("div",{className:"flex-shrink-0 m-4 w-64 p-4 rounded-lg border-2 border-purple-100",children:[Object(h.jsx)("h3",{className:"text-xl font-bold text-indigo-800",children:r}),Object(h.jsxs)("p",{children:["\u20ac",l]}),Object(h.jsxs)("div",{className:"flex mt-4",children:[Object(h.jsx)("button",{onClick:function(){e(p.removeItemFromCart(c))},className:"btn-indigo btn-circle p-0 flex-shrink-0 -mr-4 relative text-lg",children:"-"}),Object(h.jsxs)("span",{className:"w-full border-b-2 border-indigo-900 text-center flex items-center justify-center",children:["x",s]}),Object(h.jsx)("button",{onClick:function(){e(p.addItemToCart({id:c,title:r,price:n}))},className:"btn-indigo btn-circle p-0 flex-shrink-0 -ml-4 relative text-lg",children:"+"})]})]},c)},O=function(t){var e=Object(a.c)((function(t){return t.cart.items})),i=Object(h.jsx)("div",{className:"mx-auto p-4",children:"Cart is empty!"});return e.length>0&&(i=Object(h.jsxs)("div",{className:"flex items-center",children:[Object(h.jsx)("div",{className:"flex-1 flex overflow-auto",children:e.map((function(t){return Object(h.jsx)(f,{item:t},t.id)}))}),Object(h.jsx)("div",{className:"p-4",children:Object(h.jsx)("button",{onClick:function(){console.log("ORDER SENT!")},className:"btn-indigo",children:"SEND ORDER"})})]})),Object(h.jsx)("div",{className:"bg-white text-black",children:Object(h.jsx)("div",{className:"container mx-auto",children:i})})},g=function(t){var e=Object(a.b)(),i=Object(a.c)((function(t){return t.ui.cartIsVisible})),c=Object(a.c)((function(t){return t.cart.totalQuantity}));return Object(h.jsxs)("div",{className:"sticky top-0",children:[Object(h.jsx)("header",{className:"bg-indigo-800",children:Object(h.jsxs)("div",{className:"container mx-auto flex items-center p-4",children:[Object(h.jsx)("h1",{className:"text-2xl",children:"FoodyApp"}),Object(h.jsx)("nav",{className:"flex ml-auto",children:Object(h.jsxs)("button",{onClick:function(){e(j.toggleCart())},type:"button",className:"btn-gray",children:["Cart (",c,")"]})})]})}),i&&Object(h.jsx)(O,{})]})},v=function(t){return Object(h.jsxs)(c.Fragment,{children:[Object(h.jsx)(g,{}),Object(h.jsx)("main",{children:t.children})]})},N=function(t){var e=Object(a.b)(),i=t.id,c=t.title,r=t.price,s=t.description,n=t.image,l=void 0===n?"https://via.placeholder.com/200x200":n;return Object(h.jsxs)("div",{className:"flex flex-start flex-col md:flex-row items-center my-6 bg-white text-gray-400 rounded-lg overflow-hidden shadow-md",children:[Object(h.jsx)("div",{className:"flex-shrink-0 w-48 h-48",children:Object(h.jsx)("img",{src:l,className:"w-full h-full",alt:""})}),Object(h.jsxs)("div",{className:"w-full flex-1 p-4",children:[Object(h.jsx)("h3",{className:"text-2xl font-bold text-indigo-800",children:c}),Object(h.jsx)("p",{children:s})]}),Object(h.jsxs)("div",{className:"flex-shrink-0 self-stretch p-4 text-center flex flex-col",children:[Object(h.jsxs)("h4",{className:"font-bold text-black text-xl mb-3",children:["\u20ac ",r.toFixed(2)]}),Object(h.jsx)("button",{onClick:function(){var t={id:i,title:c,price:r,description:s,image:l};e(p.addItemToCart(t))},className:"btn-indigo mt-auto",children:"ADD"})]})]})},y=[{id:"p1",price:6,title:"Pizza Margherita",description:"This is a first product - amazing!"},{id:"p2",price:9,title:"Pasta al Rag\xf9",description:"This is a second product - amazing!"},{id:"p3",price:4,title:"Ceasar Salad",description:"This is a third product - amazing!"},{id:"p4",price:5,title:"Ice Cream",description:"This is a fourth product - amazing!"},{id:"p5",price:8,title:"Hamburger",description:"This is a fifth product - amazing!"},{id:"p6",price:16,title:"Steak",description:"This is a sixth product - amazing!"},{id:"p7",price:6,title:"Carrots",description:"This is a seventh product - amazing!"}],C=function(t){return Object(h.jsxs)("div",{className:"container max-w-3xl p-4 mx-auto",children:[Object(h.jsxs)("div",{className:"text-center mt-8 mb-12",children:[Object(h.jsx)("h2",{className:"text-4xl",children:"Products List"}),Object(h.jsx)("p",{className:"text-2xl font-light",children:"Your favourite foods. In a tap."})]}),Object(h.jsx)("div",{className:"",children:y.map((function(t){return Object(h.jsx)(N,{id:t.id,title:t.title,price:t.price,description:t.description,image:t.image},t.id)}))})]})};var k=function(){return Object(h.jsx)(v,{children:Object(h.jsx)(C,{})})},S=Object(l.a)({reducer:{cart:u,ui:d}});n.a.render(Object(h.jsx)(a.a,{store:S,children:Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(k,{})})}),document.getElementById("root"))},9:function(t,e,i){}},[[19,1,2]]]);
//# sourceMappingURL=main.eb25c9d1.chunk.js.map